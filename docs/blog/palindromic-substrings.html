<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Palindromic Substrings</title>
  <meta name='description' content='Kuan-You Lin's Portfolio.'>

  <link rel="canonical" href="http://localhost:6060/blog/palindromic-substrings">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Palindromic Substrings â€“ KY">
  <meta name="twitter:description" content="LeetCode 647
">
  <meta name="twitter:image:src" content="http://localhost:6060/images/post-4.jpg">

  <!-- Facebook OpenGraph -->
  <meta property="og:title" content="Palindromic Substrings â€“ KY">
  <meta property="og:description" content="LeetCode 647
">
  <meta property="og:image" content="http://localhost:6060/images/post-4.jpg">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">

  <!-- Ionicons -->
  <link href="https://unpkg.com/ionicons@4.5.0/dist/css/ionicons.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/assets/main.css">
</head>

<body>

    

    <!-- begin header -->
<header class="c-header">
  <div class="container">
    <div class="row">
      <div class="c-header__inner">

        <div class="logo">
          <a class="logo__link" href="/">
          
            <img class="logo__image" src="/images/logo.svg" alt="KY">
          
          </a>
        </div>

        <nav class="main-nav">
          <div class="main-nav__box">

            <div class="nav__icon-close">
              <i class="ion ion-md-close"></i>
            </div>

            <div class="nav__title">Menu</div>

              <ul class="nav__list list-reset">

              
                
                <li class="nav__item">
                  <a href="/" class="nav__link">Home</a>
                </li>
                
              
                
                <li class="nav__item">
                  <a href="/about/" class="nav__link">About</a>
                </li>
                
              
                
                <li class="nav__item">
                  <a href="/posts/" class="nav__link">Posts</a>
                </li>
                
              
                
                <li class="nav__item">
                  <a href="/projects/" class="nav__link">Projects</a>
                </li>
                
              
                
                <li class="nav__item dropdown">
                  <span class="nav__link dropdown-toggle">More <i class="ion ion-ios-arrow-down arrow-down"></i></span>
                  <div class="dropdown-menu">
                    
                      <a href="/coming/" class="nav__link">Coming ðŸ‘·</a>
                    
                  </div>
                </li>

                
              

            </ul>
          </div>

          <!--bookshop-live name(social-link.jekyll.html) params() context() -->
          
<div class="social">
  <ul class="social__list list-reset">
    
    <li class="social__item">
      <a class="social__link" href="https://github.com/linvingalliswell" target="_blank" rel="noopener" aria-label="github icon"><i class="ion ion-logo-github"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://twitter.com/kylinkylin9527" target="_blank" rel="noopener" aria-label="twitter icon"><i class="ion ion-logo-twitter"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://www.linkedin.com/in/linkuanyou/" target="_blank" rel="noopener" aria-label="linkedin icon"><i class="ion ion-logo-linkedin"></i></a>
    </li>
    
  </ul>
</div>

          <!--bookshop-live end-->
        </nav>

        <div class="nav-button">
          <i class="nav__icon nav__icon-menu ion ion-md-menu"></i>
        </div>

      </div>
    </div>
  </div>
</header>
<!-- end header -->

    <div class="post-top">
    <div class="container">
        <div class="row">
            
            <div class="col col-6 col-d-12">
                <div class="post-image">
                    <img
                        loading="lazy"
                        src="/images/post-4.jpg"
                        alt="Palindromic Substrings"
                    />
                </div>
            </div>
            

            <div class="col col-6 col-d-12">
                <div class="post__info">
                    
                    <div class="post-tags">
                        
                        <a
                            href="/tag/leetcode"
                            class="post-tags__tag"
                            >leetcode</a
                        >
                        
                        <a
                            href="/tag/palindrome"
                            class="post-tags__tag"
                            >palindrome</a
                        >
                        
                    </div>
                    

                    <h1 class="post__title">Palindromic Substrings</h1>

                    <div class="post__meta">
                        <div class="post__author-image">
                            <img
                                loading="lazy"
                                src="/images/avatar.jpg"
                                alt="Kuan-You Lin"
                            />
                        </div>

                        <div class="post__meta-bottom">
                            <div class="post__author">
                                Kuan-You Lin
                            </div>
                            <time
                                class="post__date"
                                datetime="2022-12-07T06:45:00-05:00"
                                >07 Dec 2022</time
                            >
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- begin post -->
<div class="container animate">
    <article class="post">
        <div class="post__content"><h2 id="leetcode-647">LeetCode 647</h2>

<p>In this post, I will talk about the 3 different approaches to solve the LeetCode problem <a href="https://leetcode.com/problems/palindromic-substrings/description/" title="LeetCode 647. Palindromic Substrings">647. Palindromic Substrings</a>. The first two solutions are memoization and tabulation, which in my opinion, is more general in their usage, and the last one is quite specific to the problem, being optimized for space.</p>

<h2 id="solution">Solution</h2>

<p>The naive solution is to brute force enumeration of substrings, which takes O(n^2) time, and conduct a palindrome test on each of them. To optimize for time, we have two solutions in dynamic programming</p>

<h2 id="tabulation">Tabulation</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># python 3.10
</span>
<span class="k">def</span> <span class="nf">count_substrings</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">dp</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">True</span><span class="p">]</span> <span class="o">*</span> <span class="n">n</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">n</span>
    <span class="k">for</span> <span class="n">len_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">len_</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">len_</span> <span class="o">-</span><span class="mi">1</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">out</span> <span class="o">+=</span> <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">out</span>
</code></pre></div></div>

<p><br />
Because there is a relationship of the palindrome test between the substring from index i to j and the substring from (i+1) to (j-1), we can populate the table starting working on substrings with the length of 2, then move to substrings with the length of 3, and so on. The base case is when i == j, where the length of substrings is 1.</p>

<h2 id="memoization">Memoization</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">cache</span>

<span class="k">def</span> <span class="nf">count_substrings</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="o">@</span><span class="n">cache</span>
    <span class="k">def</span> <span class="nf">is_pal</span><span class="p">(</span><span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">j</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="n">is_pal</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>

    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
            <span class="n">out</span> <span class="o">+=</span> <span class="n">is_pal</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>
</code></pre></div></div>

<p><br />
Similar to tabulation, we can also have the recursive function to handle the recurrence relation of the substrings and cache the result.</p>

<h2 id="center-window">Center Window</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">count_substrings</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">count_pal</span><span class="p">(</span><span class="n">i</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">while</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="ow">and</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
            <span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">j</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="c1"># odd length palindrome
</span>        <span class="n">out</span> <span class="o">+=</span> <span class="n">count_pal</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="c1"># even length palindrome
</span>        <span class="n">out</span> <span class="o">+=</span> <span class="n">count_pal</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">c</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>
</code></pre></div></div>

<p><br />
Once we finish processing substrings from index (i+1) to (j-1) and move on to substrings from index i to j, we can discard the table of the former since it is no longer useful. Therefore, to optimize the space used, we can actually count the valid substrings on the fly and throw away the intermediate results.
We start by traversing the center of the possible palindromes, iterate the possible length of the substrings, beginning with the length of 1 and 2, which is to simply expand the head and tail of the substrings. We break the iteration if the substring is not palindrome because its superstrings will not be a palindrome either.</p>

<h2 id="summary">Summary</h2>

<p>Personally I prefer the dynamic programming method, because it is more general and the recurrence is more straightforward. For example, If I ever need to do a <a href="/blog/maximum-number-of-non-overlapping-palindrome-substrings">quick query</a> with the head and tail indexes to determine whether a substring is a palindrome, the cache constructed from the first two methods will come in handy. The last method gives us excellent space complexity, O(1), because it knows that the intermediate results are irrelevant to this particular question. Overall, all three methods are easy enough to come up with in a 45-minute interview. I know there is a better way to do it with Manacherâ€™s algorithm, but because it is harder to understand, I decided to leave it to the next time.</p>

<hr />

<h3 id="relevant-questions">Relevant Questions</h3>

<ul>
  <li><a href="https://leetcode.com/problems/maximum-number-of-non-overlapping-palindrome-substrings/description/" title="LeetCode 2472. Maximum Number of Non-overlapping Palindrome Substrings">2471. Minimum Number of Operations to Sort a Binary Tree by Level</a></li>
  <li><a href="https://leetcode.com/problems/palindromic-substrings/description/" title="LeetCode 647. Palindromic Substrings">647. Palindromic Substrings</a></li>
</ul>
</div>

        <div class="post__share">
  <div class="share__head">
    <div class="share__title">Share this Post</div>
  </div>
  <ul class="share__list list-reset">
    <li class="share__item">
      <a class="share__link share__twitter"
        href="https://twitter.com/intent/tweet?text=Palindromic%20Substrings&url=http://localhost:6060/blog/palindromic-substrings"
        onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
        title="Share on Twitter" rel="nofollow"><i class="ion ion-logo-twitter"></i></a>
    </li>
    <li class="share__item">
      <a class="share__link share__facebook"
        href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:6060/blog/palindromic-substrings"
        onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
        title="Share on Facebook" rel="nofollow"><i class="ion ion-logo-facebook"></i></a>
    </li>
    <li class="share__item">
      <a class="share__link share__pinterest"
        href="http://pinterest.com/pin/create/button/?url=http://localhost:6060/blog/palindromic-substrings&amp;media=http://localhost:6060/images/post-4.jpg&amp;description=Palindromic%20Substrings"
        onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"
        title="Share on Pinterest" rel="nofollow"><i class="ion ion-logo-pinterest"></i></a>
    </li>
    <li class="share__item">
      <a class="share__link share__linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:6060/blog/palindromic-substrings&title=Palindromic%20Substrings&summary=&source=KYLIN."
        onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
        title="Share on LinkedIn" rel="nofollow"><i class="ion ion-logo-linkedin"></i></a>
    </li>
  </ul>
</div>
    </article>
</div>
<!-- end post -->

<div class="container">
    <div class="row">
        <div class="col col-10 col-d-12 push-d-0 push-1">
            <div class="post__navigation animate">
  
  <a class="post__prev" href="/blog/minimum-swaps-to-sort-copy">
    <div class="prev__image">
      <img loading="lazy" src="/images/post-3.jpg" alt="Palindromic Substrings">
    </div>
    <div class="prev__box">
      <span class="post__nav post__nav__prev">Prev post</span>
      <h2 class="post__nav__title">Minimum Swaps to Sort</h2>
    </div>
  </a>
  

  
</div>
        </div>
    </div>
</div>







<!-- begin related posts -->
<div class="container">
  <section class="related-posts is-related animate">
    <div class="row">
      <div class="col col-12">
        <div class="container__inner">
          <div class="section__info">
            <div class="section__head">
              <h2 class="section__title">You may also like</h2>
              <a class="section__link" href="/blog">
                
                
                  
                    <a href="/tags#leetcode" class="section__link related-tag">See all<span> leetcode</span> <i class="ion ion-md-arrow-forward"></i></a>
                  
                
                  
                
              
              </a>
            </div>
          </div>
          <div class="row">

          
            
            
      
            
      
            
            
            
            
      
            
      
            
            
            
            
      
            
      
            

              <div class="article col col-4 col-d-6 col-t-12">
                <div class="article__inner">
              
                  
                  <div class="image-wrap">
                    <a class="article__image" href="/blog/maximum-number-of-non-overlapping-palindrome-substrings">
                      <img loading="lazy" src="/images/post-2.jpg" alt="Maximum Number of Non-overlapping Palindrome Substrings">
                    </a>
                  </div>
                  
              
                  <div class="article__content">
              
                    
                    <div class="article-tags__box">
                      
                      <a href="/tag/leetcode" class="article__tag">leetcode</a>
                      
                      <a href="/tag/palindrome" class="article__tag">palindrome</a>
                      
                    </div>
                    
              
                    <h2 class="article__title">
                      <a href="/blog/maximum-number-of-non-overlapping-palindrome-substrings">Maximum Number of Non-overlapping Palindrome Substrings</a>
                    </h2>
              
                    <p class="article__excerpt">
                      LeetCode 2472

In this post, I will talk about the solution to the LeetCode problem 2471. Minimum Number of Operation...
                    </p>
              
                    <div class="article__meta">
                      <div class="article__author-image">
                        <img loading="lazy" src="/images/avatar.jpg" alt="Kuan-You Lin">
                      </div>
                      <div class="article-info">
                        <div class="article__author-name">Kuan-You Lin</div>
                        <span class="article__date"><time datetime="2022-12-07T06:45:00-05:00">07 Dec 2022</time></span>
                      </div>
                    </div>
              
                  </div>
                </div>
              </div>

            
                
              
            
            
            
      
            
      
            
            
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
<!-- end related posts -->
  <!--bookshop-live name(newsletter/newsletter.jekyll.html) params(newsletter_title=site.data.newsletter.newsletter_title
newsletter_description=site.data.newsletter.newsletter_description
newsletter_identifier=site.data.newsletter.newsletter_identifier
newsletter_button=site.data.newsletter.newsletter_button) context() -->
          <!-- begin subscribe -->

<section class="c-subscribe section">
    <div class="container">
        <div class="row">
            <div class="col col-12">
                <div class="c-subscribe__inner">
                    <div class="c-subscribe__info">
                        <h3 class="c-subscribe__title">
                            Join my mailing list
                        </h3>
                        <div class="c-subscribe__subtitle">
                            <span id="ityped"></span>
                        </div>
                    </div>

                    <form
                        class="c-subscribe__form validate"
                        action="//cornell.us18.list-manage.com/subscribe/post?u=04c363d27b04004815ffb3724&amp;id=565de5f4e6&amp;f_id=007f6de7f0"
                        method="POST"
                        id="membedded-subscribe-form"
                        name="membedded-subscribe-form"
                        target="_blank"
                        novalidate
                    >
                        <label class="screen-reader-text" for="mce-EMAIL"
                            >Email address</label
                        >
                        <input
                            class="c-subscribe__form-email required email"
                            id="mce-EMAIL"
                            type="text"
                            name="EMAIL"
                            placeholder="Your email address"
                        />
                        <button
                            class="c-button c-button--primary c-button--large"
                            id="membedded-subscribe"
                            type="submit"
                            name="subscribe"
                        >
                            Subscribe
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- end subscribe -->

<script>
    var itype_text = ['The mailing list will be available soon, but you can sign up first!'];
</script>

          <!--bookshop-live end-->


    <!-- 
        Bookshop components are accessed using the bookshop tag, 
        using the same syntax as the standard Jekyll include tag.
    -->
    <!--bookshop-live name(page.jekyll.html) params(content_blocks=page.content_blocks page_theme=page.page_theme) context() -->
          
          <!--bookshop-live end-->

    <div class="top" title="Top"><i class="ion ion-ios-arrow-up"></i></div>

    <!-- begin footer -->
<footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col col-12">

        <!--bookshop-live name(social-link.jekyll.html) params() context() -->
          
<div class="social">
  <ul class="social__list list-reset">
    
    <li class="social__item">
      <a class="social__link" href="https://github.com/linvingalliswell" target="_blank" rel="noopener" aria-label="github icon"><i class="ion ion-logo-github"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://twitter.com/kylinkylin9527" target="_blank" rel="noopener" aria-label="twitter icon"><i class="ion ion-logo-twitter"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://www.linkedin.com/in/linkuanyou/" target="_blank" rel="noopener" aria-label="linkedin icon"><i class="ion ion-logo-linkedin"></i></a>
    </li>
    
  </ul>
</div>

          <!--bookshop-live end-->

        <ul class="footer_nav list-reset">
          
          <li class="footer_nav__item">
            <a href="/" class="footer_nav__link">Home</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/projects/" class="footer_nav__link">Projects</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/about/" class="footer_nav__link">About</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/posts/" class="footer_nav__link">Posts</a>
          </li>
          
        </ul>

        <div class="copyright"><p> <script>document.write( new Date().getFullYear() );</script> &copy; <a href="/">KY</a>. All Rights Reserved.</p></div>

      </div>
    </div>
  </div>
</footer>
<!-- end footer -->

    <!--
        load the live component for CloudCannon live previews.
    -->
    <script>
(function(){
  const bookshopLiveSetup = (CloudCannon) => {
    CloudCannon.enableEvents();

    const head = document.querySelector('head');
    const script = document.createElement('script');
    script.src = `/_cloudcannon/bookshop-live.js`;
    script.onload = function() {
      window.bookshopLive = new window.BookshopLive({
        remoteGlobals: ['/_cloudcannon/bookshop-site-data.json']
      });
      const updateBookshopLive = async () => {
        const frontMatter = await CloudCannon.value();
        const options = window.bookshopLiveOptions || {};
        await window.bookshopLive.update({page: frontMatter}, options);
        CloudCannon?.refreshInterface?.();
      }
      document.addEventListener('cloudcannon:update', updateBookshopLive);
      updateBookshopLive();
    }
    head.appendChild(script);
  }

  document.addEventListener('cloudcannon:load', function (e) {
    bookshopLiveSetup(e.detail.CloudCannon);
  });
})();
</script>

    <script src="/js/scripts.js"></script>
    <script src="/js/common.js"></script>
</body>
</html>
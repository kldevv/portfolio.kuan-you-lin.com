<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Reverse a Singly Linked List</title>
  <meta name='description' content='Kuan-You Lin's Portfolio.'>

  <link rel="canonical" href="http://localhost:6060/blog/reverse-single-linked-list-copy">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Reverse a Singly Linked List â€“ KY">
  <meta name="twitter:description" content="Reversing the List
">
  <meta name="twitter:image:src" content="http://localhost:6060/images/post-1.jpg">

  <!-- Facebook OpenGraph -->
  <meta property="og:title" content="Reverse a Singly Linked List â€“ KY">
  <meta property="og:description" content="Reversing the List
">
  <meta property="og:image" content="http://localhost:6060/images/post-1.jpg">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">

  <!-- Ionicons -->
  <link href="https://unpkg.com/ionicons@4.5.0/dist/css/ionicons.min.css" rel="stylesheet">

  <link rel="stylesheet" href="/assets/main.css">
</head>

<body>

    

    <!-- begin header -->
<header class="c-header">
  <div class="container">
    <div class="row">
      <div class="c-header__inner">

        <div class="logo">
          <a class="logo__link" href="/">
          
            <img class="logo__image" src="/images/logo.svg" alt="KY">
          
          </a>
        </div>

        <nav class="main-nav">
          <div class="main-nav__box">

            <div class="nav__icon-close">
              <i class="ion ion-md-close"></i>
            </div>

            <div class="nav__title">Menu</div>

              <ul class="nav__list list-reset">

              
                
                <li class="nav__item">
                  <a href="/" class="nav__link">Home</a>
                </li>
                
              
                
                <li class="nav__item">
                  <a href="/about/" class="nav__link">About</a>
                </li>
                
              
                
                <li class="nav__item">
                  <a href="/posts/" class="nav__link">Posts</a>
                </li>
                
              
                
                <li class="nav__item">
                  <a href="/projects/" class="nav__link">Projects</a>
                </li>
                
              
                
                <li class="nav__item dropdown">
                  <span class="nav__link dropdown-toggle">More <i class="ion ion-ios-arrow-down arrow-down"></i></span>
                  <div class="dropdown-menu">
                    
                      <a href="/coming/" class="nav__link">Coming ðŸ‘·</a>
                    
                  </div>
                </li>

                
              

            </ul>
          </div>

          <!--bookshop-live name(social-link.jekyll.html) params() context() -->
          
<div class="social">
  <ul class="social__list list-reset">
    
    <li class="social__item">
      <a class="social__link" href="https://github.com/linvingalliswell" target="_blank" rel="noopener" aria-label="github icon"><i class="ion ion-logo-github"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://twitter.com/kylinkylin9527" target="_blank" rel="noopener" aria-label="twitter icon"><i class="ion ion-logo-twitter"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://www.linkedin.com/in/linkuanyou/" target="_blank" rel="noopener" aria-label="linkedin icon"><i class="ion ion-logo-linkedin"></i></a>
    </li>
    
  </ul>
</div>

          <!--bookshop-live end-->
        </nav>

        <div class="nav-button">
          <i class="nav__icon nav__icon-menu ion ion-md-menu"></i>
        </div>

      </div>
    </div>
  </div>
</header>
<!-- end header -->

    <div class="post-top">
    <div class="container">
        <div class="row">
            
            <div class="col col-6 col-d-12">
                <div class="post-image">
                    <img
                        loading="lazy"
                        src="/images/post-1.jpg"
                        alt="Reverse a Singly Linked List"
                    />
                </div>
            </div>
            

            <div class="col col-6 col-d-12">
                <div class="post__info">
                    
                    <div class="post-tags">
                        
                        <a
                            href="/tag/small-algo"
                            class="post-tags__tag"
                            >small-algo</a
                        >
                        
                        <a
                            href="/tag/linked-list"
                            class="post-tags__tag"
                            >linked-list</a
                        >
                        
                    </div>
                    

                    <h1 class="post__title">Reverse a Singly Linked List</h1>

                    <div class="post__meta">
                        <div class="post__author-image">
                            <img
                                loading="lazy"
                                src="/images/avatar.jpg"
                                alt="Kuan-You Lin"
                            />
                        </div>

                        <div class="post__meta-bottom">
                            <div class="post__author">
                                Kuan-You Lin
                            </div>
                            <time
                                class="post__date"
                                datetime="2022-12-05T06:45:00-05:00"
                                >05 Dec 2022</time
                            >
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- begin post -->
<div class="container animate">
    <article class="post">
        <div class="post__content"><h2 id="reversing-the-list">Reversing the List</h2>

<p>This post will reveal how to reverse a singly linked list with constant space, which is also in-place as we will modify the original list.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># python 3.10
</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>

<span class="o">@</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
    <span class="n">val</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">next_</span><span class="p">:</span> <span class="n">Node</span> <span class="o">=</span> <span class="bp">None</span>

<span class="k">def</span> <span class="nf">reverse_list_inplace</span><span class="p">(</span><span class="n">node</span><span class="p">:</span> <span class="n">Node</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">prev</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">while</span> <span class="n">node</span><span class="p">:</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">next_</span>
        <span class="n">node</span><span class="p">.</span><span class="n">next_</span> <span class="o">=</span> <span class="n">prev</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">node</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">tmp</span>
</code></pre></div></div>

<p><br />
I first use a temporary pointer <code class="language-plaintext highlighter-rouge">tmp</code> to hold the reference to the next node, modify the <code class="language-plaintext highlighter-rouge">next</code> pointer of the current node to hold the reference to the previous node instead of the next node, update <code class="language-plaintext highlighter-rouge">prev</code> pointer, and finally move to the original next node stored in the <code class="language-plaintext highlighter-rouge">tmp</code> pointer. I continue the process until reaching the end of the linked list.</p>

<p>Here I only need to allocate memory for two additional pointers; one for reference to the previous node, and one for the next node.</p>

<hr />

<h2 id="backward-traversal">Backward Traversal</h2>

<p>The trick can help us traverse the singly linked list backward. Unlike the doubly linked list where we can move the iterator to the tail of the list and traverse backward with the member pointer, the singly linked list only has a member pointer to the next node. One way to achieve the same behavior with the singly linked list is to use a stack; traverse the linked list, store the values in a stack on the fly, and finally pop them out sequentially. However, this will cost us O(n) extra space to hold the values in the stack.</p>

<p>If we reverse the linked list, and then traverse backward while doing a second reversal, we can eventually get the same result with a singly linked list without introducing linear space.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">print_list_backward</span><span class="p">(</span><span class="n">node</span><span class="p">:</span> <span class="n">Node</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">prev</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">while</span> <span class="n">node</span><span class="p">:</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">next_</span>
        <span class="n">node</span><span class="p">.</span><span class="n">next_</span> <span class="o">=</span> <span class="n">prev</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">node</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">tmp</span>

    <span class="n">node</span> <span class="o">=</span> <span class="n">prev</span>
    <span class="n">prev</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">while</span> <span class="n">node</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="c1"># reverse the list again
</span>        <span class="c1"># to keep the input list unchanged
</span>        <span class="n">tmp</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">next_</span>
        <span class="n">node</span><span class="p">.</span><span class="n">next_</span> <span class="o">=</span> <span class="n">prev</span>
        <span class="n">prev</span> <span class="o">=</span> <span class="n">node</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">tmp</span>

</code></pre></div></div>

<hr />

<h3 id="relevant-questions">Relevant Questions</h3>

<ul>
  <li><a href="https://leetcode.com/problems/remove-nodes-from-linked-list/" title="LeetCode 2487. Remove Nodes From Linked List">2487. Remove Nodes From Linked List</a></li>
</ul>
</div>

        <div class="post__share">
  <div class="share__head">
    <div class="share__title">Share this Post</div>
  </div>
  <ul class="share__list list-reset">
    <li class="share__item">
      <a class="share__link share__twitter"
        href="https://twitter.com/intent/tweet?text=Reverse%20a%20Singly%20Linked%20List&url=http://localhost:6060/blog/reverse-single-linked-list-copy"
        onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
        title="Share on Twitter" rel="nofollow"><i class="ion ion-logo-twitter"></i></a>
    </li>
    <li class="share__item">
      <a class="share__link share__facebook"
        href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:6060/blog/reverse-single-linked-list-copy"
        onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
        title="Share on Facebook" rel="nofollow"><i class="ion ion-logo-facebook"></i></a>
    </li>
    <li class="share__item">
      <a class="share__link share__pinterest"
        href="http://pinterest.com/pin/create/button/?url=http://localhost:6060/blog/reverse-single-linked-list-copy&amp;media=http://localhost:6060/images/post-1.jpg&amp;description=Reverse%20a%20Singly%20Linked%20List"
        onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"
        title="Share on Pinterest" rel="nofollow"><i class="ion ion-logo-pinterest"></i></a>
    </li>
    <li class="share__item">
      <a class="share__link share__linkedin"
        href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:6060/blog/reverse-single-linked-list-copy&title=Reverse%20a%20Singly%20Linked%20List&summary=&source=KYLIN."
        onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
        title="Share on LinkedIn" rel="nofollow"><i class="ion ion-logo-linkedin"></i></a>
    </li>
  </ul>
</div>
    </article>
</div>
<!-- end post -->

<div class="container">
    <div class="row">
        <div class="col col-10 col-d-12 push-d-0 push-1">
            <div class="post__navigation animate">
  

  
  <a class="post__next" href="/blog/maximum-number-of-non-overlapping-palindrome-substrings">
    <div class="next__box">
      <span class="post__nav post__nav__next">Next post</span>
      <h2 class="post__nav__title">Maximum Number of Non-overlapping Palindrome Substrings</h2>
    </div>
    <div class="next__image">
      <img loading="lazy" src="/images/post-2.jpg" alt="Reverse a Singly Linked List">
    </div>
  </a>
  
</div>
        </div>
    </div>
</div>







<!-- begin related posts -->
<div class="container">
  <section class="related-posts is-related animate">
    <div class="row">
      <div class="col col-12">
        <div class="container__inner">
          <div class="section__info">
            <div class="section__head">
              <h2 class="section__title">You may also like</h2>
              <a class="section__link" href="/blog">
                
                
                  
                    <a href="/tags#small-algo" class="section__link related-tag">See all<span> small-algo</span> <i class="ion ion-md-arrow-forward"></i></a>
                  
                
                  
                
              
              </a>
            </div>
          </div>
          <div class="row">

          
            
            
      
            
      
            
            
            
            
      
            
      
            

              <div class="article col col-4 col-d-6 col-t-12">
                <div class="article__inner">
              
                  
                  <div class="image-wrap">
                    <a class="article__image" href="/blog/minimum-swaps-to-sort-copy">
                      <img loading="lazy" src="/images/post-3.jpg" alt="Minimum Swaps to Sort">
                    </a>
                  </div>
                  
              
                  <div class="article__content">
              
                    
                    <div class="article-tags__box">
                      
                      <a href="/tag/small-algo" class="article__tag">small-algo</a>
                      
                      <a href="/tag/sort" class="article__tag">sort</a>
                      
                    </div>
                    
              
                    <h2 class="article__title">
                      <a href="/blog/minimum-swaps-to-sort-copy">Minimum Swaps to Sort</a>
                    </h2>
              
                    <p class="article__excerpt">
                      ## Let's Sort

This post will introduce the easiest way, in my opinion, to count the minimum number of swaps to sort ...
                    </p>
              
                    <div class="article__meta">
                      <div class="article__author-image">
                        <img loading="lazy" src="/images/avatar.jpg" alt="Kuan-You Lin">
                      </div>
                      <div class="article-info">
                        <div class="article__author-name">Kuan-You Lin</div>
                        <span class="article__date"><time datetime="2022-12-07T06:45:00-05:00">07 Dec 2022</time></span>
                      </div>
                    </div>
              
                  </div>
                </div>
              </div>

            
                
              
            
            
            
      
            
      
            
            
            
            
      
            
      
            
            
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
<!-- end related posts -->
  <!--bookshop-live name(newsletter/newsletter.jekyll.html) params(newsletter_title=site.data.newsletter.newsletter_title
newsletter_description=site.data.newsletter.newsletter_description
newsletter_identifier=site.data.newsletter.newsletter_identifier
newsletter_button=site.data.newsletter.newsletter_button) context() -->
          <!-- begin subscribe -->

<section class="c-subscribe section">
    <div class="container">
        <div class="row">
            <div class="col col-12">
                <div class="c-subscribe__inner">
                    <div class="c-subscribe__info">
                        <h3 class="c-subscribe__title">
                            Join my mailing list
                        </h3>
                        <div class="c-subscribe__subtitle">
                            <span id="ityped"></span>
                        </div>
                    </div>

                    <form
                        class="c-subscribe__form validate"
                        action="//cornell.us18.list-manage.com/subscribe/post?u=04c363d27b04004815ffb3724&amp;id=565de5f4e6&amp;f_id=007f6de7f0"
                        method="POST"
                        id="membedded-subscribe-form"
                        name="membedded-subscribe-form"
                        target="_blank"
                        novalidate
                    >
                        <label class="screen-reader-text" for="mce-EMAIL"
                            >Email address</label
                        >
                        <input
                            class="c-subscribe__form-email required email"
                            id="mce-EMAIL"
                            type="text"
                            name="EMAIL"
                            placeholder="Your email address"
                        />
                        <button
                            class="c-button c-button--primary c-button--large"
                            id="membedded-subscribe"
                            type="submit"
                            name="subscribe"
                        >
                            Subscribe
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- end subscribe -->

<script>
    var itype_text = ['The mailing list will be available soon, but you can sign up first!'];
</script>

          <!--bookshop-live end-->


    <!-- 
        Bookshop components are accessed using the bookshop tag, 
        using the same syntax as the standard Jekyll include tag.
    -->
    <!--bookshop-live name(page.jekyll.html) params(content_blocks=page.content_blocks page_theme=page.page_theme) context() -->
          
          <!--bookshop-live end-->

    <div class="top" title="Top"><i class="ion ion-ios-arrow-up"></i></div>

    <!-- begin footer -->
<footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col col-12">

        <!--bookshop-live name(social-link.jekyll.html) params() context() -->
          
<div class="social">
  <ul class="social__list list-reset">
    
    <li class="social__item">
      <a class="social__link" href="https://github.com/linvingalliswell" target="_blank" rel="noopener" aria-label="github icon"><i class="ion ion-logo-github"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://twitter.com/kylinkylin9527" target="_blank" rel="noopener" aria-label="twitter icon"><i class="ion ion-logo-twitter"></i></a>
    </li>
    
    <li class="social__item">
      <a class="social__link" href="https://www.linkedin.com/in/linkuanyou/" target="_blank" rel="noopener" aria-label="linkedin icon"><i class="ion ion-logo-linkedin"></i></a>
    </li>
    
  </ul>
</div>

          <!--bookshop-live end-->

        <ul class="footer_nav list-reset">
          
          <li class="footer_nav__item">
            <a href="/" class="footer_nav__link">Home</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/projects/" class="footer_nav__link">Projects</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/about/" class="footer_nav__link">About</a>
          </li>
          
          <li class="footer_nav__item">
            <a href="/posts/" class="footer_nav__link">Posts</a>
          </li>
          
        </ul>

        <div class="copyright"><p> <script>document.write( new Date().getFullYear() );</script> &copy; <a href="/">KY</a>. All Rights Reserved.</p></div>

      </div>
    </div>
  </div>
</footer>
<!-- end footer -->

    <!--
        load the live component for CloudCannon live previews.
    -->
    <script>
(function(){
  const bookshopLiveSetup = (CloudCannon) => {
    CloudCannon.enableEvents();

    const head = document.querySelector('head');
    const script = document.createElement('script');
    script.src = `/_cloudcannon/bookshop-live.js`;
    script.onload = function() {
      window.bookshopLive = new window.BookshopLive({
        remoteGlobals: ['/_cloudcannon/bookshop-site-data.json']
      });
      const updateBookshopLive = async () => {
        const frontMatter = await CloudCannon.value();
        const options = window.bookshopLiveOptions || {};
        await window.bookshopLive.update({page: frontMatter}, options);
        CloudCannon?.refreshInterface?.();
      }
      document.addEventListener('cloudcannon:update', updateBookshopLive);
      updateBookshopLive();
    }
    head.appendChild(script);
  }

  document.addEventListener('cloudcannon:load', function (e) {
    bookshopLiveSetup(e.detail.CloudCannon);
  });
})();
</script>

    <script src="/js/scripts.js"></script>
    <script src="/js/common.js"></script>
</body>
</html>